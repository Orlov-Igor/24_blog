{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/igor/React_Hillel/02_blog/src/class-works/cw2/life-cycle-example/components/Comment.js\";\nimport React, { Component } from 'react';\nimport LoadingOverlay from \"./LoadingOverlay\";\n\nclass Comment extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      comment: null,\n      loading: false,\n      error: ''\n    };\n  }\n\n  componentDidMount() {\n    const {\n      authorId\n    } = this.props;\n\n    if (authorId) {\n      this.fetchComment(authorId);\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.authorId !== this.props.authorId && this.props.authorId) {\n      this.fetchComment(this.props.authorId);\n    }\n  }\n\n  fetchComment(authorId) {\n    this.setState({\n      loading: true\n    });\n    fetch(`https://jsonplaceholder.typicode.com/users/${authorId}`).then(response => response.json()).then(data => this.setState({\n      comment: data,\n      loading: false\n    })).catch(e => this.setState({\n      error: e.message,\n      loading: false,\n      comment: null\n    }));\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Here must be a comment\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nexport default Comment;","map":{"version":3,"sources":["/home/igor/React_Hillel/02_blog/src/class-works/cw2/life-cycle-example/components/Comment.js"],"names":["React","Component","LoadingOverlay","Comment","constructor","props","state","comment","loading","error","componentDidMount","authorId","fetchComment","componentDidUpdate","prevProps","setState","fetch","then","response","json","data","catch","e","message","render"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,cAAP,MAA2B,kBAA3B;;AAEA,MAAMC,OAAN,SAAsBF,SAAtB,CAAgC;AAC/BG,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAClB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,OAAO,EAAE,IADE;AAEXC,MAAAA,OAAO,EAAE,KAFE;AAGXC,MAAAA,KAAK,EAAE;AAHI,KAAb;AAKA;;AAEDC,EAAAA,iBAAiB,GAAG;AACnB,UAAM;AAAEC,MAAAA;AAAF,QAAe,KAAKN,KAA1B;;AACA,QAAIM,QAAJ,EAAc;AACZ,WAAKC,YAAL,CAAkBD,QAAlB;AACD;AACC;;AAEDE,EAAAA,kBAAkB,CAACC,SAAD,EAAY;AAC/B,QAAIA,SAAS,CAACH,QAAV,KAAuB,KAAKN,KAAL,CAAWM,QAAlC,IAA8C,KAAKN,KAAL,CAAWM,QAA7D,EAAuE;AACrE,WAAKC,YAAL,CAAkB,KAAKP,KAAL,CAAWM,QAA7B;AACD;AACC;;AAEDC,EAAAA,YAAY,CAACD,QAAD,EAAW;AACxB,SAAKI,QAAL,CAAc;AAAEP,MAAAA,OAAO,EAAE;AAAX,KAAd;AACAQ,IAAAA,KAAK,CAAE,8CAA6CL,QAAS,EAAxD,CAAL,CACGM,IADH,CACQC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADpB,EAEGF,IAFH,CAEQG,IAAI,IAAI,KAAKL,QAAL,CAAc;AAAER,MAAAA,OAAO,EAAEa,IAAX;AAAiBZ,MAAAA,OAAO,EAAE;AAA1B,KAAd,CAFhB,EAGGa,KAHH,CAGSC,CAAC,IAAI,KAAKP,QAAL,CAAc;AAAEN,MAAAA,KAAK,EAAEa,CAAC,CAACC,OAAX;AAAoBf,MAAAA,OAAO,EAAE,KAA7B;AAAoCD,MAAAA,OAAO,EAAE;AAA7C,KAAd,CAHd;AAIE;;AAEHiB,EAAAA,MAAM,GAAG;AACR,wBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADD;AAGA;;AAnC8B;;AAyChC,eAAerB,OAAf","sourcesContent":["import React, { Component } from 'react';\nimport LoadingOverlay from \"./LoadingOverlay\";\n\nclass Comment extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t  comment: null,\n\t\t  loading: false,\n\t\t  error: ''\n\t\t}\n\t}\n\t\n\tcomponentDidMount() {\n\t\tconst { authorId } = this.props;\n\t\tif (authorId) {\n\t\t  this.fetchComment(authorId)\n\t\t}\n\t  }\n\t\n\t  componentDidUpdate(prevProps) {\n\t\tif (prevProps.authorId !== this.props.authorId && this.props.authorId) {\n\t\t  this.fetchComment(this.props.authorId)\n\t\t}\n\t  }\n\t\n\t  fetchComment(authorId) {\n\t\tthis.setState({ loading: true });\n\t\tfetch(`https://jsonplaceholder.typicode.com/users/${authorId}`)\n\t\t  .then(response => response.json())\n\t\t  .then(data => this.setState({ comment: data, loading: false }))\n\t\t  .catch(e => this.setState({ error: e.message, loading: false, comment: null }))\n\t  }\n\n\trender() {\n\t\treturn(\n\t\t\t<div>Here must be a comment</div>\n\t\t);\n\t}\n\n\n\n}\n\nexport default Comment;"]},"metadata":{},"sourceType":"module"}