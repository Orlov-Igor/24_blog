{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/igor/React_Hillel/02_blog/src/class-works/cw2/life-cycle-example/components/Comment.js\";\nimport React, { Component } from 'react';\nimport LoadingOverlay from \"./LoadingOverlay\";\n\nclass Comment extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      comment: null,\n      loading: false,\n      error: ''\n    };\n  }\n\n  componentDidMount() {\n    const {\n      authorId\n    } = this.props;\n\n    if (authorId) {\n      this.fetchComment(authorId);\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.authorId !== this.props.authorId && this.props.authorId) {\n      this.fetchComment(this.props.authorId);\n    }\n  }\n\n  fetchComment(authorId) {\n    this.setState({\n      loading: true\n    });\n    fetch(`https://jsonplaceholder.typicode.com/users/${authorId}`).then(response => response.json()).then(data => this.setState({\n      comment: data,\n      loading: false\n    })).catch(e => this.setState({\n      error: e.message,\n      loading: false,\n      comment: null\n    }));\n  }\n\n  render() {\n    const {\n      error,\n      comment,\n      loading\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"author-fixed\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 4\n      }, this), /*#__PURE__*/_jsxDEV(LoadingOverlay, {\n        active: loading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 4\n      }, this), author && /*#__PURE__*/_jsxDEV(Card, {\n        children: [/*#__PURE__*/_jsxDEV(Image, {\n          src: \"https://react.semantic-ui.com/images/avatar/large/matthew.png\",\n          wrapped: true,\n          ui: false\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Card.Content, {\n          children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n            children: author.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(Card.Meta, {\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"date\",\n              children: author.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 7\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(Card.Description, {\n            children: [author.address.city, \", \", author.address.street, \" \", author.address.zipcode]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Card.Content, {\n          extra: true,\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            children: [/*#__PURE__*/_jsxDEV(Icon, {\n              name: \"camera\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 7\n            }, this), \"22 Albums \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 5\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 4\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }, this);\n  }\n\n}\n\nexport default Comment;","map":{"version":3,"sources":["/home/igor/React_Hillel/02_blog/src/class-works/cw2/life-cycle-example/components/Comment.js"],"names":["React","Component","LoadingOverlay","Comment","constructor","props","state","comment","loading","error","componentDidMount","authorId","fetchComment","componentDidUpdate","prevProps","setState","fetch","then","response","json","data","catch","e","message","render","author","name","email","address","city","street","zipcode"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport LoadingOverlay from \"./LoadingOverlay\";\n\nclass Comment extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t  comment: null,\n\t\t  loading: false,\n\t\t  error: ''\n\t\t}\n\t}\n\t\n\tcomponentDidMount() {\n\t\tconst { authorId } = this.props;\n\t\tif (authorId) {\n\t\t  this.fetchComment(authorId)\n\t\t}\n\t  }\n\t\n\t  componentDidUpdate(prevProps) {\n\t\tif (prevProps.authorId !== this.props.authorId && this.props.authorId) {\n\t\t  this.fetchComment(this.props.authorId)\n\t\t}\n\t  }\n\t\n\t  fetchComment(authorId) {\n\t\tthis.setState({ loading: true });\n\t\tfetch(`https://jsonplaceholder.typicode.com/users/${authorId}`)\n\t\t  .then(response => response.json())\n\t\t  .then(data => this.setState({ comment: data, loading: false }))\n\t\t  .catch(e => this.setState({ error: e.message, loading: false, comment: null }))\n\t  }\n\n\t  render() {\n\t\tconst { error, comment, loading } = this.state;\n\t\treturn (\n\t\t  <div className='author-fixed'>\n\t\t\t<div className='error'>{error}</div>\n\t\t\t<LoadingOverlay active={loading} />\n\t\t\t{author &&\n\t\t\t<Card>\n\t\t\t  <Image src='https://react.semantic-ui.com/images/avatar/large/matthew.png' wrapped ui={false}/>\n\t\t\t  <Card.Content>\n\t\t\t\t<Card.Header>{author.name}</Card.Header>\n\t\t\t\t<Card.Meta>\n\t\t\t\t  <span className='date'>{author.email}</span>\n\t\t\t\t</Card.Meta>\n\t\t\t\t<Card.Description>\n\t\t\t\t  {author.address.city}, {author.address.street} {author.address.zipcode}\n\t\t\t\t</Card.Description>\n\t\t\t  </Card.Content>\n\t\t\t  <Card.Content extra>\n\t\t\t\t<a>\n\t\t\t\t  <Icon name='camera'/>\n\t\t\t\t  22 Albums {/* TODO Fetch count of albums */}\n\t\t\t\t</a>\n\t\t\t  </Card.Content>\n\t\t\t</Card>\n\t\t\t}\n\t\t  </div>\n\t\t);\n\t  }\n\n\n\n}\n\nexport default Comment;"]},"metadata":{},"sourceType":"module"}